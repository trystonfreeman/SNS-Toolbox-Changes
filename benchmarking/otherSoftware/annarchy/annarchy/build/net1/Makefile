# Makefile generated by ANNarchy
all:
	/home/will/sns-venv/bin/cython -3 --cplus -I /home/will/sns-venv/lib/python3.8/site-packages/ANNarchy/core/cython_ext/ -I /home/will/sns-venv/lib/python3.8/site-packages/ -D ANNarchyCore1.pyx
	nvcc  -std=c++14 -c -Xcompiler -std=c++14,-fPIC, ANNarchyDevice.cu -o ANNarchyDevice.o
	nvcc   -Xcompiler -O3,-march=native,-std=c++14,-fPIC,-shared \
        ANNarchyHost.cu *.cpp ANNarchyDevice.o -o ANNarchyCore1.so \
        `python3.8-config --includes` -I/home/will/sns-venv/lib/python3.8/site-packages/numpy/core/include -I/home/will/sns-venv/lib/python3.8/site-packages/ANNarchy/include \
        -I /home/will/sns-venv/lib/python3.8/site-packages/ANNarchy/core/cython_ext/ -I /home/will/sns-venv/lib/python3.8/site-packages/ \
        -lpython3.8 \
        -L/usr/lib/cuda/lib \
        -L/home/will/sns-venv/lib 
	mv ANNarchyCore1.so ../..

clean:
	rm -rf *.o
	rm -rf *.so
